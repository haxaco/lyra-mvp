# Lyra Design System

**Version:** v1.0.0  
**Last Updated:** January 12, 2025  
**Generated by:** Figma Make

---

## Overview

The Lyra Design System is a comprehensive, modular React + Tailwind CSS component library designed for B2B music streaming applications. Built with modern SaaS aesthetics inspired by Notion and Linear, it features a warm, elegant color palette and supports both light and dark themes.

### Key Features

- ✅ **Modular Architecture** - Easy integration into monorepo structures
- ✅ **TypeScript First** - Full type safety and IntelliSense support
- ✅ **Theme Support** - Light and dark themes with CSS custom properties
- ✅ **Accessible** - Built on Radix UI primitives following WCAG guidelines
- ✅ **Responsive** - Mobile-first approach with breakpoint utilities
- ✅ **Customizable** - CSS variables and Tailwind utilities for easy theming
- ✅ **Next.js 14 Ready** - Optimized for App Router with "use client" directives

---

## Installation

### For Monorepo Integration

```bash
# From your monorepo root
cd packages/ui
npm install
```

### Dependencies

```json
{
  "dependencies": {
    "react": "^18.0.0",
    "@radix-ui/react-avatar": "latest",
    "@radix-ui/react-slot": "^1.1.2",
    "class-variance-authority": "^0.7.1",
    "clsx": "latest",
    "tailwind-merge": "latest"
  },
  "peerDependencies": {
    "react": ">=18.0.0",
    "tailwindcss": "^4.0.0"
  }
}
```

---

## Component Overview

### UI Primitives (`/components/ui/`)

| Component | Variants | Description |
|-----------|----------|-------------|
| **UIButton** | `default`, `destructive`, `outline`, `secondary`, `ghost`, `link` | Primary action button with multiple variants |
| **UICard** | `default` | Card container with Header, Title, Description, Content, Footer |
| **UIInput** | `default` | Text input field with validation states |
| **UIBadge** | `default`, `secondary`, `destructive`, `outline` | Status badges and labels |
| **UISkeleton** | `default` | Loading placeholder with pulse animation |
| **UIAvatar** | `default` | User avatar with image and fallback support |

### Layout Components (`/components/layout/`)

| Component | Props Interface | Description |
|-----------|-----------------|-------------|
| **TopNavBar** | `TopNavBarProps` | Fixed top navigation with search, actions, and user menu |
| **Sidebar** | `SidebarProps` | Collapsible sidebar navigation with groups and badges |
| **MusicPlayer** | `MusicPlayerProps` | Fixed bottom music player with playback controls |

---

## Design Tokens

### Color System

#### Brand Colors
```css
--color-brand-primary: #FF6F61;      /* Coral Pink */
--color-brand-secondary: #F8EDEB;    /* Soft Beige */
--color-brand-accent: #FF8A80;       /* Electric Salmon */
--color-brand-blush: #E6B8C2;        /* Blush */
--color-brand-warm-nude: #F5CBA7;    /* Warm Nude */
```

#### Semantic Colors
```css
--color-bg: #FAF9F7;                 /* Light background */
--color-fg: #2B2B2B;                 /* Light text */
--color-border: rgba(43,43,43,0.1);  /* Light border */
--color-primary: #FF6F61;            /* Primary action */
--color-destructive: #d4183d;        /* Error/delete */
```

### Typography

#### Font Families
```css
--font-sans: 'Inter', system-ui, sans-serif;           /* Body text */
--font-heading: 'Outfit', 'Satoshi', system-ui;        /* Headings */
```

#### Font Sizes (Reference Only - Do NOT use Tailwind classes)
```css
--font-size-xs: 0.75rem;    /* 12px */
--font-size-sm: 0.875rem;   /* 14px */
--font-size-base: 1rem;     /* 16px */
--font-size-lg: 1.125rem;   /* 18px */
--font-size-xl: 1.25rem;    /* 20px */
--font-size-2xl: 1.5rem;    /* 24px */
```

**⚠️ Important:** Typography is controlled via HTML elements in `globals.css`. Do NOT use Tailwind font utility classes (`text-2xl`, `font-bold`, etc.) unless specifically customizing.

### Spacing Scale

```css
--spacing-1: 0.25rem;   /* 4px */
--spacing-2: 0.5rem;    /* 8px */
--spacing-3: 0.75rem;   /* 12px */
--spacing-4: 1rem;      /* 16px */
--spacing-6: 1.5rem;    /* 24px */
--spacing-8: 2rem;      /* 32px */
```

### Border Radius

```css
--radius-sm: 0.75rem;   /* 12px - Small elements */
--radius-md: 0.875rem;  /* 14px - Medium elements */
--radius-lg: 1rem;      /* 16px - Cards (default) */
--radius-xl: 1.25rem;   /* 20px - Large panels */
```

### Shadows

```css
--shadow-sm: 0 1px 2px 0 rgba(0,0,0,0.05);
--shadow-md: 0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -2px rgba(0,0,0,0.1);
--shadow-lg: 0 10px 15px -3px rgba(0,0,0,0.1), 0 4px 6px -4px rgba(0,0,0,0.1);
```

### Z-Index Layers

```css
--z-dropdown: 100;       /* Dropdown menus */
--z-modal: 50;           /* Modal dialogs */
--z-sidebar: 40;         /* Sidebar navigation */
--z-music-player: 30;    /* Music player */
--z-toast: 20;           /* Toast notifications */
--z-popover: 10;         /* Popovers, tooltips */
```

---

## Usage Guide

### Importing Components

```tsx
// Import UI primitives
import { UIButton, UICard, UIInput } from '@/packages/ui';

// Import layout components
import { TopNavBar, Sidebar, MusicPlayer } from '@/packages/ui';

// Import utility function
import { cn } from '@/packages/ui';
```

### Component Examples

#### UIButton

```tsx
import { UIButton } from '@/packages/ui';

function MyComponent() {
  return (
    <>
      {/* Primary button */}
      <UIButton variant="default">Save</UIButton>
      
      {/* Destructive button */}
      <UIButton variant="destructive">Delete</UIButton>
      
      {/* Ghost button */}
      <UIButton variant="ghost" size="sm">Cancel</UIButton>
      
      {/* With icon */}
      <UIButton>
        <PlusIcon />
        Add Item
      </UIButton>
    </>
  );
}
```

#### UICard

```tsx
import { 
  UICard, 
  UICardHeader, 
  UICardTitle, 
  UICardDescription,
  UICardContent 
} from '@/packages/ui';

function MyCard() {
  return (
    <UICard>
      <UICardHeader>
        <UICardTitle>Analytics Overview</UICardTitle>
        <UICardDescription>Last 30 days performance</UICardDescription>
      </UICardHeader>
      <UICardContent>
        <p>Your content here...</p>
      </UICardContent>
    </UICard>
  );
}
```

#### TopNavBar

```tsx
import { TopNavBar } from '@/packages/ui';

function AppLayout() {
  const handleSearch = (value: string) => {
    console.log('Search:', value);
  };

  const navActions = [
    {
      label: 'Notifications',
      icon: <BellIcon />,
      badge: 3,
      onClick: () => console.log('Notifications'),
    },
    {
      label: 'Generate',
      icon: <SparklesIcon />,
      variant: 'primary' as const,
      onClick: () => console.log('Generate'),
    },
  ];

  return (
    <TopNavBar
      logo="/logo.png"
      logoAlt="Lyra"
      onLogoClick={() => navigate('/')}
      searchPlaceholder="Search playlists..."
      onSearchSubmit={handleSearch}
      actions={navActions}
      userAvatar="/avatar.jpg"
      userName="John Doe"
      userEmail="john@example.com"
      onThemeToggle={toggleTheme}
      theme="light"
    />
  );
}
```

#### Sidebar

```tsx
import { Sidebar } from '@/packages/ui';

function AppLayout() {
  const navigation = [
    {
      label: 'Main',
      items: [
        {
          id: 'overview',
          label: 'Overview',
          icon: <HomeIcon />,
          onClick: () => navigate('/overview'),
        },
        {
          id: 'playlists',
          label: 'Playlists',
          icon: <MusicIcon />,
          badge: 12,
          onClick: () => navigate('/playlists'),
        },
      ],
    },
  ];

  return (
    <Sidebar
      navigation={navigation}
      activeItem="overview"
      collapsed={false}
      onToggleCollapse={() => setCollapsed(!collapsed)}
    />
  );
}
```

#### MusicPlayer

```tsx
import { MusicPlayer, Track } from '@/packages/ui';

function App() {
  const currentTrack: Track = {
    id: '1',
    title: 'Ambient Café Mix',
    artist: 'Lyra AI',
    coverArt: '/cover.jpg',
    duration: 180,
  };

  return (
    <MusicPlayer
      currentTrack={currentTrack}
      isPlaying={true}
      currentTime={45}
      volume={0.8}
      onPlayPause={() => togglePlayback()}
      onNext={() => playNext()}
      onPrevious={() => playPrevious()}
      onSeek={(time) => seekTo(time)}
    />
  );
}
```

---

## Tailwind Configuration

### Mapping Tokens to Tailwind

Add to your `tailwind.config.js`:

```js
module.exports = {
  content: [
    './app/**/*.{ts,tsx}',
    './packages/ui/**/*.{ts,tsx}',
  ],
  theme: {
    extend: {
      colors: {
        background: 'var(--color-background)',
        foreground: 'var(--color-foreground)',
        primary: 'var(--color-primary)',
        secondary: 'var(--color-secondary)',
        accent: 'var(--color-accent)',
        muted: 'var(--color-muted)',
        destructive: 'var(--color-destructive)',
        border: 'var(--color-border)',
        ring: 'var(--color-ring)',
      },
      fontFamily: {
        sans: ['var(--font-sans)'],
        heading: ['var(--font-heading)'],
      },
      borderRadius: {
        sm: 'var(--radius-sm)',
        md: 'var(--radius-md)',
        lg: 'var(--radius-lg)',
        xl: 'var(--radius-xl)',
      },
    },
  },
};
```

---

## Responsive Breakpoints

```css
/* Mobile-first approach */
sm: 640px   /* Small devices */
md: 768px   /* Medium devices (tablets) */
lg: 1024px  /* Large devices (desktops) */
xl: 1280px  /* Extra large devices */
```

### Responsive Utilities

```tsx
{/* Hidden on mobile, visible on desktop */}
<div className="hidden md:block">Desktop only</div>

{/* Full width on mobile, half on desktop */}
<div className="w-full md:w-1/2">Responsive width</div>

{/* Stack on mobile, flex row on desktop */}
<div className="flex flex-col md:flex-row">Responsive flex</div>
```

---

## Theme Switching

The design system supports light and dark themes via CSS custom properties. Toggle by adding/removing the `dark` class to the root element:

```tsx
// Light theme (default)
<html>...</html>

// Dark theme
<html className="dark">...</html>
```

---

## Variant Metadata

All components with variants include a `data-variant` attribute for CSS targeting:

```tsx
<UIButton variant="primary" />
// Renders: <button data-variant="primary" />
```

This allows custom styling:

```css
[data-variant="primary"] {
  /* Custom styles */
}
```

---

## Best Practices

### 1. Use Semantic Tokens
❌ Don't hardcode colors:
```tsx
<div className="bg-[#FF6F61]">Bad</div>
```

✅ Use semantic tokens:
```tsx
<div className="bg-primary">Good</div>
```

### 2. Forward Refs
All components support ref forwarding for imperative control:

```tsx
const buttonRef = useRef<HTMLButtonElement>(null);
<UIButton ref={buttonRef}>Click</UIButton>
```

### 3. Extend with className
All components accept a `className` prop for customization:

```tsx
<UIButton className="w-full">Full Width</UIButton>
```

### 4. Use Utility Function
Use the `cn()` utility for conditional classes:

```tsx
import { cn } from '@/packages/ui';

<div className={cn(
  "base-classes",
  isActive && "active-classes",
  className
)}>
```

---

## Integration with Next.js 14

### App Router Setup

1. Import global styles in your root layout:

```tsx
// app/layout.tsx
import '@/packages/ui/styles/globals.css';

export default function RootLayout({ children }) {
  return (
    <html>
      <body>{children}</body>
    </html>
  );
}
```

2. Use components in Server or Client Components:

```tsx
// All UI components are marked with "use client"
// Safe to use in Server Components
import { UIButton } from '@/packages/ui';

export default function Page() {
  return <UIButton>Server Component Safe</UIButton>;
}
```

---

## Changelog

### v1.0.0 (January 12, 2025)

**Initial Release**

- ✅ Core UI primitives (Button, Card, Input, Badge, Skeleton, Avatar)
- ✅ Layout components (TopNavBar, Sidebar, MusicPlayer)
- ✅ Design tokens system with CSS custom properties
- ✅ Light and dark theme support
- ✅ TypeScript definitions
- ✅ Responsive utilities
- ✅ Accessibility features via Radix UI
- ✅ Barrel exports for easy imports
- ✅ Comprehensive documentation

---

## Component Status

| Component | Status | Accessibility | Tests | Storybook |
|-----------|--------|---------------|-------|-----------|
| UIButton | ✅ Stable | ✅ WCAG AA | 🚧 Pending | 🚧 Pending |
| UICard | ✅ Stable | ✅ WCAG AA | 🚧 Pending | 🚧 Pending |
| UIInput | ✅ Stable | ✅ WCAG AA | 🚧 Pending | 🚧 Pending |
| UIBadge | ✅ Stable | ✅ WCAG AA | 🚧 Pending | 🚧 Pending |
| UISkeleton | ✅ Stable | ✅ WCAG AA | 🚧 Pending | 🚧 Pending |
| UIAvatar | ✅ Stable | ✅ WCAG AA | 🚧 Pending | 🚧 Pending |
| TopNavBar | ✅ Stable | ✅ WCAG AA | 🚧 Pending | 🚧 Pending |
| Sidebar | ✅ Stable | ✅ WCAG AA | 🚧 Pending | 🚧 Pending |
| MusicPlayer | ✅ Stable | ✅ WCAG AA | 🚧 Pending | 🚧 Pending |

---

## Support

For questions, issues, or feature requests, please contact the Lyra Design System team.

**Generated by Figma Make v1.0.0**
